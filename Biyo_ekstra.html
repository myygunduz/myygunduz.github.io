<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kapsamlƒ± Biyokimya Testi (T√ºm Vitamin & Mineraller)</title>
    <style>
        /* --- GENEL AYARLAR VE TASARIM (CSS) --- */
        :root {
            --bg-color: #e3f2fd; /* √áok a√ßƒ±k mavi */
            --card-bg: #ffffff;
            --primary-color: #1565c0; /* Koyu Mavi */
            --accent-color: #42a5f5; /* A√ßƒ±k Mavi Buton */
            --correct-color: #2e7d32; /* Koyu Ye≈üil */
            --wrong-color: #c62828; /* Koyu Kƒ±rmƒ±zƒ± */
            --text-color: #263238;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-color);
        }

        .container {
            width: 90%;
            max-width: 650px;
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* HEADER */
        .header {
            padding: 25px;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            text-align: center;
        }

        .header h1 {
            margin: 0;
            font-size: 1.4rem;
            font-weight: 700;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background-color: rgba(255,255,255,0.3);
            margin-top: 15px;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #ffeb3b; /* Sarƒ± progress bar */
            width: 0%;
            border-radius: 4px;
            transition: width 0.4s ease;
        }

        .status-text {
            margin-top: 8px;
            font-size: 0.85rem;
            opacity: 0.9;
        }

        /* SORU ALANI */
        .question-area {
            padding: 30px 25px;
            min-height: 320px;
        }

        .question-text {
            font-size: 1.15rem;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.6;
            color: var(--primary-color);
        }

        .options-grid {
            display: grid;
            gap: 12px;
        }

        .option-btn {
            background-color: #f5f7fa;
            border: 2px solid #e1e8ed;
            padding: 14px 18px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1rem;
            text-align: left;
            transition: all 0.2s;
            color: var(--text-color);
            position: relative;
        }

        .option-btn:hover:not(:disabled) {
            background-color: #e1f5fe;
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        /* DOƒûRU/YANLI≈û STƒ∞LLERƒ∞ */
        .option-btn.correct {
            background-color: var(--correct-color) !important;
            color: white !important;
            border-color: var(--correct-color) !important;
        }

        .option-btn.wrong {
            background-color: var(--wrong-color) !important;
            color: white !important;
            border-color: var(--wrong-color) !important;
            opacity: 0.8;
        }
        
        /* Yanlƒ±≈ü yapƒ±ldƒ±ƒüƒ±nda doƒüru olanƒ± i≈üaretlemek i√ßin ikon */
        .option-btn.correct::after {
            content: "‚úî";
            position: absolute;
            right: 15px;
            font-weight: bold;
        }

        .option-btn:disabled {
            cursor: default;
        }

        /* NAVƒ∞GASYON */
        .controls {
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #eee;
            background-color: #fafafa;
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            background-color: var(--primary-color);
            color: white;
            transition: background 0.2s, transform 0.1s;
        }

        .nav-btn:hover {
            background-color: #0d47a1;
        }
        
        .nav-btn:active {
            transform: scale(0.98);
        }

        .nav-btn:disabled {
            background-color: #cfd8dc;
            color: #90a4ae;
            cursor: not-allowed;
        }

        .shuffle-btn {
            background-color: #ffa000;
            color: white;
        }
        .shuffle-btn:hover {
            background-color: #ff6f00;
        }

        /* SONU√á EKRANI */
        .result-screen {
            display: none;
            padding: 40px 30px;
            text-align: center;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            margin: 0 auto 25px;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(21, 101, 192, 0.4);
        }

        .mistakes-list {
            text-align: left;
            margin-top: 25px;
            max-height: 350px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
        }

        .mistake-item {
            background: #ffebee;
            padding: 12px;
            border-radius: 6px;
            margin-bottom: 12px;
            border-left: 4px solid var(--wrong-color);
            font-size: 0.95rem;
        }
        
        .mistake-item strong {
            display: block;
            margin-bottom: 6px;
            color: #333;
        }

        .hidden {
            display: none !important;
        }

        /* Scrollbar d√ºzeni */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #bdbdbd; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #909090; 
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="header" id="header-section">
            <h1>Biyokimya: T√ºm Vitaminler & Mineraller</h1>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="status-text">
                Soru: <span id="current-q-num">1</span> / <span id="total-q-num">?</span>
            </div>
        </div>

        <div class="question-area" id="quiz-section">
            <div class="question-text" id="question-text">
                Y√ºkleniyor...
            </div>
            <div class="options-grid" id="options-container">
                </div>
        </div>

        <div class="result-screen" id="result-section">
            <div class="score-circle" id="score-display">0/0</div>
            <h2 style="color:var(--primary-color);">Test Tamamlandƒ±!</h2>
            <p id="feedback-message" style="font-size:1.1rem; color:#555;"></p>
            
            <div id="mistakes-container" class="mistakes-list">
                </div>

            <button class="nav-btn shuffle-btn" onclick="restartQuiz()" style="margin-top:25px; width:100%;">
                Testi Karƒ±≈ütƒ±r ve Yeniden Ba≈ülat
            </button>
        </div>

        <div class="controls" id="controls-section">
            <button class="nav-btn shuffle-btn" onclick="shuffleAndRestart()" title="Sorularƒ± karƒ±≈ütƒ±rƒ±p ba≈üa d√∂ner">
                ‚Üª Karƒ±≈ütƒ±r
            </button>
            <div style="display:flex; gap:10px;">
                <button class="nav-btn" id="prev-btn" onclick="changeQuestion(-1)">‚Üê Geri</button>
                <button class="nav-btn" id="next-btn" onclick="changeQuestion(1)">ƒ∞leri ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        /* --- KAPSAMLI VERƒ∞ SETƒ∞ (T√ºm Vitaminler, Mineraller ve Enzimler) --- */
        const questionsData = [
            // --- YAƒûDA √á√ñZ√úNEN Vƒ∞TAMƒ∞NLER (A, D, E, K) ---
            {
                id: 1,
                text: "Alacakaranlƒ±kta g√∂rmeyi saƒülayan rodopsin pigmentinin yapƒ±sƒ±na katƒ±lan ve eksikliƒüinde 'Gece K√∂rl√ºƒü√º' olu≈üan vitamin hangisidir?",
                options: ["A Vitamini (Retinol)", "E Vitamini", "D Vitamini", "C Vitamini"],
                answer: "A Vitamini (Retinol)"
            },
            {
                id: 2,
                text: "Kalsiyum ve fosforun baƒüƒ±rsaklardan emilimini artƒ±rarak kemik geli≈üimini saƒülayan vitamin hangisidir?",
                options: ["D Vitamini", "K Vitamini", "A Vitamini", "B12 Vitamini"],
                answer: "D Vitamini"
            },
            {
                id: 3,
                text: "En g√º√ßl√º antioksidanlardan biri olup h√ºcre zarƒ±nƒ± serbest radikallerden koruyan vitamin hangisidir?",
                options: ["E Vitamini (Tokoferol)", "D Vitamini", "K Vitamini", "B1 Vitamini"],
                answer: "E Vitamini (Tokoferol)"
            },
            {
                id: 4,
                text: "Kanƒ±n pƒ±htƒ±la≈üma fakt√∂rlerinin (Protrombin vb.) sentezi i√ßin karaciƒüerde gerekli olan vitamin hangisidir?",
                options: ["K Vitamini", "E Vitamini", "C Vitamini", "B6 Vitamini"],
                answer: "K Vitamini"
            },
            {
                id: 5,
                text: "√áocuklarda 'Ra≈üitizm', yeti≈ükinlerde 'Osteomalazi' hastalƒ±ƒüƒ± hangi vitaminin eksikliƒüinde g√∂r√ºl√ºr?",
                options: ["D Vitamini", "A Vitamini", "E Vitamini", "K Vitamini"],
                answer: "D Vitamini"
            },

            // --- SUDA √á√ñZ√úNEN Vƒ∞TAMƒ∞NLER (C ve B KOMPLEKSƒ∞) ---
            {
                id: 6,
                text: "Baƒü dokusu proteini olan Kollajen sentezi i√ßin elzem olan ve eksikliƒüinde 'Skorb√ºt' g√∂r√ºlen vitamin hangisidir?",
                options: ["C Vitamini (Askorbik Asit)", "B1 Vitamini", "E Vitamini", "D Vitamini"],
                answer: "C Vitamini (Askorbik Asit)"
            },
            {
                id: 7,
                text: "Karbonhidrat metabolizmasƒ±nda (Pir√ºvat Dehidrogenaz) koenzim olarak g√∂rev yapan ve eksikliƒüinde 'Beriberi' hastalƒ±ƒüƒ± olu≈üan vitamin hangisidir?",
                options: ["B1 (Tiamin)", "B2 (Riboflavin)", "B3 (Niasin)", "B6 (Piridoksin)"],
                answer: "B1 (Tiamin)"
            },
            {
                id: 8,
                text: "FAD ve FMN koenzimlerinin yapƒ±sƒ±na katƒ±lan, eksikliƒüinde aƒüƒ±z kenarƒ±nda √ßatlaklar (Keylozis) g√∂r√ºlen vitamin hangisidir?",
                options: ["B2 (Riboflavin)", "B1 (Tiamin)", "B12 (Kobalamin)", "C Vitamini"],
                answer: "B2 (Riboflavin)"
            },
            {
                id: 9,
                text: "NAD+ ve NADP+ koenzimlerinin √∂nc√ºs√º olan ve eksikliƒüinde 'Pellegra' (Dermatit, Demans, Diyare) g√∂r√ºlen vitamin hangisidir?",
                options: ["B3 (Niasin)", "B1 (Tiamin)", "B9 (Folat)", "B5 (Pantotenik Asit)"],
                answer: "B3 (Niasin)"
            },
            {
                id: 10,
                text: "Koenzim A'nƒ±n (CoA) yapƒ±sƒ±na katƒ±lan ve enerji metabolizmasƒ±nda merkezi rol oynayan vitamin hangisidir?",
                options: ["B5 (Pantotenik Asit)", "B3 (Niasin)", "B7 (Biotin)", "B1 (Tiamin)"],
                answer: "B5 (Pantotenik Asit)"
            },
            {
                id: 11,
                text: "Amino asit metabolizmasƒ±nda (Transaminasyon reaksiyonlarƒ±nda) √ßok √∂nemli rol oynayan vitamin hangisidir?",
                options: ["B6 (Piridoksin)", "B2 (Riboflavin)", "B1 (Tiamin)", "C Vitamini"],
                answer: "B6 (Piridoksin)"
            },
            {
                id: 12,
                text: "Karboksilasyon reaksiyonlarƒ±nda (√∂rn: pir√ºvat karboksilaz) koenzim olarak g√∂rev yapan ve √ßiƒü yumurta akƒ±ndaki 'Avidin' tarafƒ±ndan emilimi engellenen vitamin hangisidir?",
                options: ["B7 (Biotin)", "B12 (Kobalamin)", "B9 (Folat)", "B3 (Niasin)"],
                answer: "B7 (Biotin)"
            },
            {
                id: 13,
                text: "DNA sentezi ve h√ºcre b√∂l√ºnmesi i√ßin kritik olan, gebelikte eksikliƒüi 'N√∂ral T√ºp Defektine' yol a√ßan vitamin hangisidir?",
                options: ["B9 (Folik Asit)", "B12 (Kobalamin)", "B6 (Piridoksin)", "A Vitamini"],
                answer: "B9 (Folik Asit)"
            },
            {
                id: 14,
                text: "Sadece hayvansal kaynaklarda bulunan, mideden salgƒ±lanan 'ƒ∞ntrinsik Fakt√∂r' ile emilen ve eksikliƒüinde 'Pernisiy√∂z Anemi' g√∂r√ºlen vitamin hangisidir?",
                options: ["B12 (Kobalamin)", "B9 (Folat)", "Demir", "B6 (Piridoksin)"],
                answer: "B12 (Kobalamin)"
            },

            // --- MAKRO Mƒ∞NERALLER ---
            {
                id: 15,
                text: "V√ºcutta en fazla bulunan mineral olup kemik ve di≈ü yapƒ±sƒ±nƒ±n temelini olu≈üturan element hangisidir?",
                options: ["Kalsiyum (Ca)", "Fosfor (P)", "Magnezyum (Mg)", "Demir (Fe)"],
                answer: "Kalsiyum (Ca)"
            },
            {
                id: 16,
                text: "H√ºcre dƒ±≈üƒ± sƒ±vƒ±nƒ±n temel katyonu olup kan basƒ±ncƒ± ve sƒ±vƒ± dengesini d√ºzenleyen mineral hangisidir?",
                options: ["Sodyum (Na)", "Potasyum (K)", "Klor (Cl)", "Kalsiyum (Ca)"],
                answer: "Sodyum (Na)"
            },
            {
                id: 17,
                text: "H√ºcre i√ßi sƒ±vƒ±nƒ±n temel katyonu olan ve kalbin elektriksel aktivitesi ile kas kasƒ±lmasƒ±nda hayati rol oynayan mineral hangisidir?",
                options: ["Potasyum (K)", "Sodyum (Na)", "Magnezyum (Mg)", "Demir (Fe)"],
                answer: "Potasyum (K)"
            },
            {
                id: 18,
                text: "DNA, RNA ve ATP'nin yapƒ±sƒ±nda bulunan, kemiklerde kalsiyumla birlikte yer alan mineral hangisidir?",
                options: ["Fosfor (P)", "K√ºk√ºrt (S)", "Klor (Cl)", "√áinko (Zn)"],
                answer: "Fosfor (P)"
            },
            {
                id: 19,
                text: "Mide asidinin (HCl) √ºretiminde g√∂rev alan temel anyon hangisidir?",
                options: ["Klor (Cl)", "Sodyum (Na)", "Potasyum (K)", "ƒ∞yot (I)"],
                answer: "Klor (Cl)"
            },
            {
                id: 20,
                text: "Klorofilin yapƒ±sƒ±nda bulunan, insanlarda ise 300'den fazla enzimin kofakt√∂r√º olan ve kas kramplarƒ±nƒ± √∂nleyen mineral hangisidir?",
                options: ["Magnezyum (Mg)", "Demir (Fe)", "Bakƒ±r (Cu)", "Mangan (Mn)"],
                answer: "Magnezyum (Mg)"
            },
            {
                id: 21,
                text: "Metiyonin ve Sistein gibi amino asitlerin yapƒ±sƒ±nda bulunan mineral hangisidir?",
                options: ["K√ºk√ºrt (S)", "Fosfor (P)", "Selenyum (Se)", "Demir (Fe)"],
                answer: "K√ºk√ºrt (S)"
            },

            // --- Mƒ∞KRO (ESER) Mƒ∞NERALLER ---
            {
                id: 22,
                text: "Hemoglobinin yapƒ±sƒ±nda oksijen ta≈üƒ±yan ve eksikliƒüinde en sƒ±k g√∂r√ºlen anemi t√ºr√ºne yol a√ßan mineral hangisidir?",
                options: ["Demir (Fe)", "√áinko (Zn)", "Bakƒ±r (Cu)", "Magnezyum (Mg)"],
                answer: "Demir (Fe)"
            },
            {
                id: 23,
                text: "T3 ve T4 tiroid hormonlarƒ±nƒ±n sentezi i√ßin zorunlu olan ve eksikliƒüinde 'Guatr' g√∂r√ºlen mineral hangisidir?",
                options: ["ƒ∞yot (I)", "Selenyum (Se)", "√áinko (Zn)", "Flor (F)"],
                answer: "ƒ∞yot (I)"
            },
            {
                id: 24,
                text: "ƒ∞ns√ºlinin etkisini artƒ±rarak glikoz tolerans fakt√∂r√º olarak √ßalƒ±≈üan mineral hangisidir?",
                options: ["Krom (Cr)", "Mangan (Mn)", "ƒ∞yot (I)", "Kobalt (Co)"],
                answer: "Krom (Cr)"
            },
            {
                id: 25,
                text: "Baƒüƒ±≈üƒ±klƒ±k sistemi, yara iyile≈ümesi ve tat alma duyusu i√ßin kritik olan mineral hangisidir?",
                options: ["√áinko (Zn)", "Bakƒ±r (Cu)", "Demir (Fe)", "Kalsiyum (Ca)"],
                answer: "√áinko (Zn)"
            },
            {
                id: 26,
                text: "Glutatyon Peroksidaz enziminin yapƒ±sƒ±nda bulunan ve E vitamini ile birlikte g√º√ßl√º bir antioksidan olan mineral hangisidir?",
                options: ["Selenyum (Se)", "√áinko (Zn)", "Magnezyum (Mg)", "Fosfor (P)"],
                answer: "Selenyum (Se)"
            },
            {
                id: 27,
                text: "Demir emilimi i√ßin gerekli olan, fazlalƒ±ƒüƒ±nda 'Wilson Hastalƒ±ƒüƒ±'na (karaciƒüer ve beyinde birikim) yol a√ßan mineral hangisidir?",
                options: ["Bakƒ±r (Cu)", "√áinko (Zn)", "Mangan (Mn)", "Krom (Cr)"],
                answer: "Bakƒ±r (Cu)"
            },
            {
                id: 28,
                text: "Di≈ü minesinin yapƒ±sƒ±nƒ± g√º√ßlendirerek √ß√ºr√ºkleri √∂nleyen mineral hangisidir?",
                options: ["Flor (F)", "Kalsiyum (Ca)", "Fosfor (P)", "√áinko (Zn)"],
                answer: "Flor (F)"
            },
            {
                id: 29,
                text: "B12 vitamininin (Kobalamin) merkezinde bulunan atom hangisidir?",
                options: ["Kobalt (Co)", "Demir (Fe)", "Magnezyum (Mg)", "Nikel (Ni)"],
                answer: "Kobalt (Co)"
            },

            // --- ENZƒ∞M SINIFLARI & GENEL KAVRAMLAR ---
            {
                id: 30,
                text: "ATP enerjisi kullanarak iki molek√ºl√º birbirine baƒülayan (√∂rn: DNA birle≈üimi) enzim sƒ±nƒ±fƒ±na ____ denir.",
                options: ["Ligazlar", "Liyazlar", "Hidrolazlar", "Transferazlar"],
                answer: "Ligazlar"
            },
            {
                id: 31,
                text: "Su katarak kimyasal baƒülarƒ± kƒ±ran (Sindirim enzimleri bu gruba girer) enzim sƒ±nƒ±fƒ± hangisidir?",
                options: ["Hidrolazlar", "Oksidored√ºktazlar", "ƒ∞zomerazlar", "Ligazlar"],
                answer: "Hidrolazlar"
            },
            {
                id: 32,
                text: "Bir molek√ºl i√ßindeki atomlarƒ±n yerini deƒüi≈ütirerek izomerini olu≈üturan enzim sƒ±nƒ±fƒ± nedir?",
                options: ["ƒ∞zomerazlar", "Transferazlar", "Liyazlar", "Ligazlar"],
                answer: "ƒ∞zomerazlar"
            },
            {
                id: 33,
                text: "Bir molek√ºlden fosfat, metil vb. gruplarƒ± ba≈üka bir molek√ºle ta≈üƒ±yan (√∂rn: Kinazlar) enzim sƒ±nƒ±fƒ± hangisidir?",
                options: ["Transferazlar", "Ligazlar", "Oksidored√ºktazlar", "Hidrolazlar"],
                answer: "Transferazlar"
            },
            {
                id: 34,
                text: "Elektron transferi yaparak ƒ∞ndirgenme-Y√ºkseltgenme (Redoks) tepkimelerini katalizleyen enzim sƒ±nƒ±fƒ± hangisidir?",
                options: ["Oksidored√ºktazlar", "Hidrolazlar", "Liyazlar", "ƒ∞zomerazlar"],
                answer: "Oksidored√ºktazlar"
            },
            {
                id: 35,
                text: "Su kullanmadan kovalent baƒülarƒ± kƒ±rarak √ßift baƒü olu≈üturan veya √ßift baƒülara grup ekleyen enzim sƒ±nƒ±fƒ± hangisidir?",
                options: ["Liyazlar", "Ligazlar", "Transferazlar", "Hidrolazlar"],
                answer: "Liyazlar"
            },
            {
                id: 36,
                text: "Enzimlerin protein olmayan yardƒ±mcƒ± kƒ±sƒ±mlarƒ±na (vitamin veya mineral k√∂kenli) genel olarak ne ad verilir?",
                options: ["Kofakt√∂r", "Apoenzim", "Substrat", "ƒ∞nhibit√∂r"],
                answer: "Kofakt√∂r"
            },
            {
                id: 37,
                text: "Enzimlerin sadece protein kƒ±smƒ±na (yardƒ±mcƒ± kƒ±sƒ±m olmadan) ne ad verilir?",
                options: ["Apoenzim", "Holoenzim", "Koenzim", "Zimojen"],
                answer: "Apoenzim"
            },
            {
                id: 38,
                text: "Organik yapƒ±lƒ± kofakt√∂rlere (genellikle B vitaminlerinden t√ºretilir) ne ad verilir?",
                options: ["Koenzim", "Prostetik grup", "Apoenzim", "Substrat"],
                answer: "Koenzim"
            },
            {
                id: 39,
                text: "A≈üƒ±rƒ± sƒ±caklƒ±k veya pH deƒüi≈üimi sonucu enzimin √º√ß boyutlu yapƒ±sƒ±nƒ±n bozulmasƒ±na ne denir?",
                options: ["Denat√ºrasyon", "Renat√ºrasyon", "ƒ∞nhibisyon", "Aktivasyon"],
                answer: "Denat√ºrasyon"
            },
            {
                id: 40,
                text: "A≈üaƒüƒ±dakilerden hangisi yaƒüda √ß√∂z√ºnen vitaminlerin ortak √∂zelliƒüidir?",
                options: ["V√ºcutta (karaciƒüer ve yaƒü dokuda) depolanabilirler", "G√ºnl√ºk alƒ±nmalarƒ± zorunludur", "Fazlasƒ± idrarla atƒ±lƒ±r", "Koenzim olarak g√∂rev yapmazlar"],
                answer: "V√ºcutta (karaciƒüer ve yaƒü dokuda) depolanabilirler"
            },
            {
                id: 41,
                text: "Hangi mineralin eksikliƒüi erkeklerde sperm √ºretimini olumsuz etkiler ve kƒ±sƒ±rlƒ±kla ili≈ükilendirilir?",
                options: ["√áinko (Zn)", "Demir (Fe)", "Kalsiyum (Ca)", "Sodyum (Na)"],
                answer: "√áinko (Zn)"
            },
            {
                id: 42,
                text: "Alkolizmde emilimi en √ßok bozulan ve eksikliƒüinde Wernicke-Korsakoff sendromu g√∂r√ºlen vitamin hangisidir?",
                options: ["B1 (Tiamin)", "C Vitamini", "D Vitamini", "E Vitamini"],
                answer: "B1 (Tiamin)"
            },
            {
                id: 43,
                text: "Hangi vitamin bitkisel besinlerde hi√ß bulunmaz, sadece hayvansal gƒ±dalardan veya takviye ile alƒ±nƒ±r?",
                options: ["B12", "C", "Folat", "K"],
                answer: "B12"
            },
            {
                id: 44,
                text: "Kan basƒ±ncƒ±nƒ±n y√ºkselmesine (hipertansiyon) neden olan mineralin a≈üƒ±rƒ± t√ºketimi hangisidir?",
                options: ["Sodyum", "Potasyum", "Magnezyum", "Kalsiyum"],
                answer: "Sodyum"
            },
            {
                id: 45,
                text: "Ksantin Oksidaz gibi enzimlerin yapƒ±sƒ±nda bulunan iz element hangisidir?",
                options: ["Molibden (Mo)", "Krom (Cr)", "Flor (F)", "Nikel (Ni)"],
                answer: "Molibden (Mo)"
            }
        ];

        /* --- UYGULAMA MANTIƒûI (JS) --- */
        let currentQuestions = [];
        let currentIndex = 0;
        let userAnswers = [];
        let isAnswered = false;

        // Sayfa y√ºklendiƒüinde
        window.onload = initQuiz;

        function initQuiz() {
            // ƒ∞lk a√ßƒ±lƒ±≈üta veriyi kopyala ve UI'ƒ± hazƒ±rla
            currentQuestions = [...questionsData];
            restartQuizLogic();
        }

        function shuffleAndRestart() {
            if(confirm("T√ºm sorular karƒ±≈ütƒ±rƒ±lƒ±p test yeniden ba≈ülayacak. Onaylƒ±yor musunuz?")) {
                restartQuiz();
            }
        }

        function restartQuiz() {
            // Fisher-Yates Karƒ±≈ütƒ±rma Algoritmasƒ±
            currentQuestions = [...questionsData];
            for (let i = currentQuestions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [currentQuestions[i], currentQuestions[j]] = [currentQuestions[j], currentQuestions[i]];
            }
            restartQuizLogic();
        }

        function restartQuizLogic() {
            currentIndex = 0;
            userAnswers = new Array(questionsData.length).fill(null);
            
            document.getElementById('result-section').style.display = 'none';
            document.getElementById('quiz-section').classList.remove('hidden');
            document.getElementById('controls-section').classList.remove('hidden');
            document.getElementById('header-section').classList.remove('hidden');
            
            updateUI();
        }

        function updateUI() {
            const currentQ = currentQuestions[currentIndex];
            isAnswered = userAnswers[currentIndex] !== null;

            // Header G√ºncelleme
            document.getElementById('current-q-num').innerText = currentIndex + 1;
            document.getElementById('total-q-num').innerText = currentQuestions.length;
            
            const progressPercent = ((currentIndex) / currentQuestions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progressPercent}%`;

            // Soru Metni
            const qTextEl = document.getElementById('question-text');
            qTextEl.style.opacity = 0;
            setTimeout(() => {
                qTextEl.innerText = currentQ.text;
                qTextEl.style.opacity = 1;
            }, 150);

            // ≈ûƒ±klar
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            currentQ.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => handleAnswer(opt, btn);

                // Cevaplanmƒ±≈üsa durumu geri y√ºkle
                if (isAnswered) {
                    btn.disabled = true;
                    const savedAns = userAnswers[currentIndex];
                    
                    if (opt === currentQ.answer) {
                        btn.classList.add('correct');
                    }
                    if (opt === savedAns.selected && !savedAns.isCorrect) {
                        btn.classList.add('wrong');
                    }
                }
                
                optionsContainer.appendChild(btn);
            });

            // Buton Durumlarƒ±
            document.getElementById('prev-btn').disabled = (currentIndex === 0);
            
            const nextBtn = document.getElementById('next-btn');
            if (currentIndex === currentQuestions.length - 1) {
                nextBtn.innerText = "Testi Bitir";
                nextBtn.onclick = finishQuiz;
                // Eƒüer son sorudaysa ve cevaplanmamƒ±≈üsa butonu pasif yapabiliriz (opsiyonel)
            } else {
                nextBtn.innerText = "ƒ∞leri ‚Üí";
                nextBtn.onclick = () => changeQuestion(1);
            }
        }

        function handleAnswer(selectedOption, btnElement) {
            if (isAnswered) return;

            const currentQ = currentQuestions[currentIndex];
            const isCorrect = (selectedOption === currentQ.answer);

            userAnswers[currentIndex] = {
                questionId: currentQ.id,
                questionText: currentQ.text,
                selected: selectedOption,
                correct: currentQ.answer,
                isCorrect: isCorrect
            };

            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach(b => {
                b.disabled = true;
                if (b.innerText === currentQ.answer) {
                    b.classList.add('correct');
                }
                if (b === btnElement && !isCorrect) {
                    b.classList.add('wrong');
                }
            });

            isAnswered = true;
        }

        function changeQuestion(direction) {
            currentIndex += direction;
            updateUI();
        }

        function finishQuiz() {
            document.getElementById('quiz-section').classList.add('hidden');
            document.getElementById('controls-section').classList.add('hidden');
            document.getElementById('header-section').classList.add('hidden');
            
            const resultSection = document.getElementById('result-section');
            resultSection.style.display = 'block';

            let correctCount = 0;
            const mistakesContainer = document.getElementById('mistakes-container');
            mistakesContainer.innerHTML = '';
            
            // Ba≈ülƒ±k ekle
            const mistakesHeader = document.createElement('h3');
            mistakesHeader.innerText = "Hatalƒ± Yapƒ±lanlar ve Doƒürularƒ±:";
            mistakesHeader.style.borderBottom = "2px solid #eee";
            mistakesHeader.style.paddingBottom = "10px";
            mistakesContainer.appendChild(mistakesHeader);

            let hasMistakes = false;

            userAnswers.forEach((ans, index) => {
                if (ans && ans.isCorrect) {
                    correctCount++;
                } else {
                    hasMistakes = true;
                    const qText = ans ? ans.questionText : currentQuestions[index].text;
                    const correctAns = ans ? ans.correct : currentQuestions[index].answer;
                    const userAns = ans ? ans.selected : "Bo≈ü Bƒ±rakƒ±ldƒ±";

                    const div = document.createElement('div');
                    div.className = 'mistake-item';
                    div.innerHTML = `
                        <strong>Soru: ${qText}</strong>
                        <div style="display:flex; justify-content:space-between; flex-wrap:wrap;">
                            <span style="color:#c62828">‚ùå Sizin Cevabƒ±nƒ±z: ${userAns}</span>
                            <span style="color:#2e7d32">‚úî Doƒüru Cevap: ${correctAns}</span>
                        </div>
                    `;
                    mistakesContainer.appendChild(div);
                }
            });

            if (!hasMistakes) {
                mistakesContainer.innerHTML += "<p style='color:green; text-align:center; font-weight:bold; font-size:1.1rem;'>Tebrikler! Hi√ß yanlƒ±≈üƒ±nƒ±z yok.</p>";
            }

            document.getElementById('score-display').innerText = `${correctCount}/${currentQuestions.length}`;
            
            const feedbackMsg = document.getElementById('feedback-message');
            const scorePercent = (correctCount / currentQuestions.length) * 100;
            
            if(scorePercent >= 90) feedbackMsg.innerText = "Harika! Konuya tamamen hakimsin. üèÜ";
            else if(scorePercent >= 70) feedbackMsg.innerText = "Gayet ba≈üarƒ±lƒ±, k√º√ß√ºk tekrarlarla m√ºkemmel olabilir. üëç";
            else if(scorePercent >= 50) feedbackMsg.innerText = "Orta seviye. Vitamin ve mineralleri tekrar etmende fayda var. üìö";
            else feedbackMsg.innerText = "Biraz daha √ßalƒ±≈üman gerekiyor. Pes etmek yok! üí™";
        }
    </script>
</body>
</html>
